<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <title>Mostrar .htaccess amb Highlight.js</title>

    <!-- Highlight.js CSS fosc -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/monokai-sublime.min.css">

    <style>
        body {
            font-family: monospace;
            background-color: #2d2d2d; /* fons fosc */
            color: #ccc;
            padding: 20px;
        }
        pre {
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid #555;
        }
    </style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body><main class='container py-4'>

<pre><code class="apache" id="php-code">Carregant...</code></pre>

<!-- Highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/apache.min.js"></script>
<script>
    const routesCode = `
exemple: 

project/
│
├── index.php
├── routes.php
├── controllers/
│   ├── HomeController.php
│   ├── AboutController.php
│   └── ContactController.php
└── views/
    ├── home.php
    ├── about.php
    └── contact.php

<?php
//routes.php

$routes = [
    '/' => 'HomeController@index',
    '/about' => 'AboutController@show',
    '/contact' => 'ContactController@form',
];

//lógica per a carregar les rutes
<?php
require 'routes.php';

$requestUri = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);

if (array_key_exists($requestUri, $routes)) {
    list($controllerName, $method) = explode('@', $routes[$requestUri]);

    require "controllers/$controllerName.php";
    $controller = new $controllerName();
    $controller->$method();
} else {
    http_response_code(404);
    echo "Pàgina no trobada";
}

//controlador
<?php
// controllers/HomeController.php

class HomeController {
    public function index() {
        require 'views/home.php';
    }
}
    `;

    const codeBlock = document.getElementById('php-code');
    codeBlock.textContent = routesCode;   // assigna literalment el codi
    hljs.highlightElement(codeBlock);       // aplica resaltat de sintaxi
</script>

</main></body>
</html>
